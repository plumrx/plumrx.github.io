---
title: 性能测试（一）- 基础概念
date: 2022-11-24 16:33:10
tags:
---


# 性能测试的基础概念  

## 1. 简述性能测试  
通常理解为“非功能性测试”，通常功能测试稳定或完成之后，再进行性能测试。

### 1.1 覆盖范围  
服务端：后台、接口和服务类的测试，常见工具：jmeter
客户端：web端、PC桌面应用，app端，各不相同。


交互式系统：响应时间
非交互式系统：响应时间、吞吐量

## 2. 服务端性能测试  
简版：模拟多人，同时进行功能性操作，在确保功能实现正确性前提下，检验服务端各项性能指标和服务使用功能的情况。  

**不同用户，关注点不同：**  
1. 终端用户  
功能操作的主观响应时间；稳定性；  
2. 系统运维人员  
多并发负载能力；大负载响应状态健康度；资源利用率；扩展率；
3. 软件设计开发人员  
程序算法设计、架构设计、最佳实践；数据库相关；软件性能可测试性；是否有不合理资源竞争；  
4. 性能测试人员 
性能需求汲取能力；性能测试目标；场景设计；脚本开发；架构知识储备；



### 2.2 业务性能指标  
反应业务系统本身的性能。  
响应时间、并发量、事务吞吐量、事务成功率  

### 2.3 系统资源指标  
反应性能测试对于硬件资源的使用。  
应用服务器、数据库服务器、数据库读写、缓存的指标  

### 2.4 “后端”性能测试常见指标  
1. 系统吞吐量  
体现软件系统负载承受能力的指标。  
单位时间内业务处理数量。  
RPS:
TPS:

2. 响应时间  
分为前端展现时间和系统响应时间两部分。  
最直观反映系统快慢，是很重要的指标。  
根据下图可逐步分析具体性能问题的节点。
{% asset_img 响应时间.jpg 业务响应流程 %}   
<center>图1.业务响应流程</center>

3. 并发用户数  
包含了业务层面和后端服务器层面的两层含义。  
业务层面：实际使用系统的业务量。  
后端服务器层面：同时向服务器发送请求的数量。  
例：系统1K人，之前最大在线500人，仅代表业务层面并发数，实际可能存在200未发送业务请求处于浏览状态。

4. 三项指标之间的关系  
一般：吞吐量随着并发用户量增加，呈现增长趋势。  
特例一：吞吐量达到顶点，并发数也会收到限制。  
特例二：系统超负荷，处理能力反而下降

## 3. 客户端性能测试 （暂无） 

## 4. TPS 和 RPS
TPS(Transactions Per Second):每秒事务数。它表示系统在一秒内可以处理的事务数量,是衡量系统吞吐量的一个重要指标。
RPS(Requests Per Second):每秒请求数。它表示系统在一秒内可以处理的请求数量。RPS也衡量了系统的吞吐量,但比TPS粒度更细,可以更精确地反映系统性能。
举个例子:
- 如果一个扣款接口的TPS是100,意味着该接口在1秒内可以成功扣款100次。
- 如果一个扣款接口的RPS是200,意味着该接口在1秒内接收到200次扣款请求。其中可能有部分请求失败,最终成功扣款的次数就是TPS。所以总结来说:- TPS反映了系统在单位时间内成功处理的事务数量,衡量系统整体吞吐量和性能。
- RPS反映了系统在单位时间内接收到的请求数量,也衡量系统吞吐量,但比TPS更细粒度,可以反映系统整体性能和并发处理能力。
- RPS一般大于等于TPS。RPS越接近TPS,表示系统的并发处理性能越好。

## 5. 七种性能测试方法  
1. 后端性能测试  
模拟后端业务并发。基于性能需求验证；探索系统容量或问题。
2. 前端性能测试（忽略）
3. 代码级性能测试  
开发人员实施，代码时间空间性能，避免后期发现问题。单元测试时，运行后，查看运行时间，或多次取平均值。  
4. 压力测试  
不断向系统施压，探寻系统性能的临界点，常用于容量规划的验证，再针对性的进行扩容。
5. 配置测试  
观察系统在不同配置下的性能表现。操作系统、应用服务器、网络等配置。
6. 并发测试  
验证同一时间，后台的表现情况。是否存在资源竞争等问题。
7. 可靠性测试
稳定性测试，长期运行稳定，是狗存在内存泄漏的问题。

